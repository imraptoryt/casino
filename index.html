<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Diamond OS - Corporate Management</title>
    <style>
        :root {
            --gold: #c1a35f; --gold-bright: #f1d592; --bg-dark: #050505;
            --win-bg: rgba(12, 12, 12, 0.98); --text: #e0e0e0; --error: #ff4d4d; --terminal: #00ff41;
        }
        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Segoe UI', sans-serif; background: url('https://imgg.fr/r/0AU4bCCH.webp') center/cover no-repeat; overflow: hidden; color: var(--text); }
        
        /* --- BUREAU --- */
        #desktop { width: 100%; height: calc(100% - 45px); position: relative; padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, 110px); grid-template-rows: repeat(auto-fill, 120px); grid-auto-flow: column; gap: 15px; background: rgba(0,0,0,0.5); }
        .icon { width: 100px; padding: 10px; text-align: center; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        .icon:hover { background: rgba(193, 163, 95, 0.2); border: 1px solid var(--gold); }
        .icon img { width: 45px; height: 45px; filter: drop-shadow(0 4px 5px black); }
        .icon span { font-size: 11px; display: block; margin-top: 8px; text-shadow: 1px 1px 3px black; font-weight: bold; }

        /* --- FEN√äTRES --- */
        .window { position: absolute; width: 850px; height: 600px; background: var(--win-bg); border: 1px solid var(--gold); box-shadow: 0 0 50px rgba(0,0,0,1); display: none; flex-direction: column; border-radius: 4px; overflow: hidden; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; }
        .win-header { background: linear-gradient(to right, #1a1a1a, #000); padding: 12px 15px; display: flex; justify-content: space-between; align-items: center; cursor: move; border-bottom: 1px solid var(--gold); user-select: none; }
        .win-content { padding: 0; flex: 1; display: flex; overflow: hidden; }
        .btn-close { color: var(--gold); cursor: pointer; font-size: 20px; font-weight: bold; }

        /* --- INTERFACE MAIL --- */
        #mail-sidebar { width: 300px; border-right: 1px solid #333; overflow-y: auto; background: rgba(20,20,20,0.5); }
        #mail-view { flex: 1; padding: 30px; overflow-y: auto; background: #0a0a0a; position: relative; }
        .mail-item { padding: 15px; border-bottom: 1px solid #222; cursor: pointer; transition: 0.2s; position: relative; }
        .mail-item:hover { background: #1a1a1a; }
        .mail-item.active { background: rgba(193, 163, 95, 0.15); border-left: 3px solid var(--gold); }
        .mail-sender { color: var(--gold); font-weight: bold; font-size: 13px; margin-bottom: 4px; }
        .mail-subject { font-size: 12px; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .mail-date { font-size: 10px; color: #666; position: absolute; top: 15px; right: 15px; }

        .mail-full-header { border-bottom: 1px solid #333; margin-bottom: 20px; padding-bottom: 15px; }
        .mail-full-subject { font-size: 22px; color: var(--gold); margin-bottom: 10px; }
        .mail-full-info { font-size: 13px; color: #888; }
        .mail-full-body { line-height: 1.6; font-size: 14px; color: #ccc; white-space: pre-wrap; }

        /* --- AUTRES APPS --- */
        .room-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; padding: 20px; }
        .room { border: 1px solid #222; padding: 12px; text-align: center; font-size: 11px; background: #0a0a0a; border-radius: 4px; cursor: not-allowed; }
        .occupied { border-top: 3px solid var(--error); }
        .free { border-top: 3px solid var(--terminal); color: var(--terminal); }
        .note-paper { background: #fdf6e3; color: #333; padding: 30px; height: 100%; font-family: 'Courier New', monospace; box-sizing: border-box;}

        /* --- UI ELEMENTS --- */
        #notif-box { position: absolute; bottom: 60px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 9999; }
        .notif { background: rgba(10,10,10,0.95); border-left: 4px solid var(--gold); padding: 15px; width: 280px; animation: slideIn 0.4s ease-out; }
        @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }
        #taskbar { position: absolute; bottom: 0; width: 100%; height: 45px; background: #000; display: flex; align-items: center; justify-content: space-between; padding: 0 15px; border-top: 1px solid #222; z-index: 1000; box-sizing: border-box; }
    </style>
</head>
<body>

<div id="desktop">
    <div class="icon" onclick="openApp('win-browser')"><img src="https://cdn-icons-png.flaticon.com/512/300/300221.png"><span>Internet</span></div>
    <div class="icon" onclick="openApp('win-terminal')"><img src="https://cdn-icons-png.flaticon.com/512/2910/2910795.png"><span>Gestionnaire</span></div>
    <div class="icon" onclick="openApp('win-mail')"><img src="https://cdn-icons-png.flaticon.com/512/281/281769.png"><span>Emails</span></div>
    <div class="icon" onclick="openApp('win-bawsaq')"><img src="https://cdn-icons-png.flaticon.com/512/2422/2422796.png"><span>BAWSAQ</span></div>
    <div class="icon" onclick="openApp('win-notes')"><img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png"><span>Notes VIP</span></div>
    <div class="icon" onclick="denied('Corbeille')"><img src="https://imgg.fr/r/687SIXFn.png"><span>Corbeille</span></div>
</div>

<div id="win-mail" class="window">
    <div class="win-header"><span>üìß Diamond Secure Mail - Inbox</span> <span class="btn-close" onclick="closeApp('win-mail')">√ó</span></div>
    <div class="win-content">
        <div id="mail-sidebar"></div>
        <div id="mail-view">
            <div style="text-align:center; color:#555; margin-top:100px;">S√©lectionnez un message pour le lire</div>
        </div>
    </div>
</div>

<div id="win-bawsaq" class="window" style="width:500px; height:400px;">
    <div class="win-header"><span>üìà BAWSAQ Index</span> <span class="btn-close" onclick="closeApp('win-bawsaq')">√ó</span></div>
    <div class="win-content" style="padding:20px; display:block;">
        <h3 style="color:var(--gold)">March√© de Los Santos</h3>
        <div class="stock-item" style="padding:10px; border-bottom:1px solid #222; display:flex; justify-content:space-between;"><span>Diamond Casino (DIA)</span> <span style="color:#00ff41">+14.2% ‚ñ≤</span></div>
        <div class="stock-item" style="padding:10px; border-bottom:1px solid #222; display:flex; justify-content:space-between;"><span>LifeInvader (LFI)</span> <span style="color:red">-3.1% ‚ñº</span></div>
        <div class="stock-item" style="padding:10px; border-bottom:1px solid #222; display:flex; justify-content:space-between;"><span>Maze Bank (MAZ)</span> <span style="color:#00ff41">+0.5% ‚ñ≤</span></div>
    </div>
</div>

<div id="win-notes" class="window" style="width:450px; height:500px;">
    <div class="win-header"><span>üìù Bloc-notes VIP</span> <span class="btn-close" onclick="closeApp('win-notes')">√ó</span></div>
    <div class="win-content" style="display:block;"><div class="note-paper"><h3>üìå VIP ETAGE 5</h3><ul id="vip-list"></ul><br><p style="color:red"><b>Interdiction d'interagir avec les VIP</b></p></div></div>
</div>

<div id="win-terminal" class="window" style="width:500px; height:300px;">
    <div class="win-header"><span>>_ Authentification</span> <span class="btn-close" onclick="closeApp('win-terminal')">√ó</span></div>
    <div class="win-content" style="background:#000; color:var(--terminal); font-family:monospace; padding:20px; display:block;">
        Diamond OS Secure Login...<br>PASSWORD: <input type="password" id="term-input" onkeydown="handleLogin(event)" style="background:transparent; border:none; color:var(--terminal); outline:none;" autofocus>
    </div>
</div>

<div id="win-registry" class="window" style="width:850px; height:600px;">
    <div class="win-header"><span>üìã Registre des Suites</span> <span class="btn-close" onclick="closeApp('win-registry')">√ó</span></div>
    <div class="win-content" style="display:block;">
        <div class="floor-tabs" id="tab-list" style="padding:20px 20px 0 20px;"></div>
        <div id="room-grid" class="room-grid"></div>
    </div>
</div>

<div id="win-browser" class="window">
    <div class="win-header"><span>üåê Diamond Browser</span> <span class="btn-close" onclick="closeApp('win-browser')">√ó</span></div>
    <div class="win-content" style="display:block; padding:20px;"><h3 style="color:var(--gold)">Historique √©tendu</h3><div id="browser-content"></div></div>
</div>

<div id="notif-box"></div>
<div id="taskbar"><div><img src="https://imgg.fr/r/8V5FntjE.png" height="25" style="vertical-align:middle;"> Diamond OS</div><span id="clock"></span></div>

<script>
    const names = ["Julian", "Marc", "Sophie", "Elena", "Lucas", "Yuki", "Victor", "Chloe", "Sarah", "Antoine", "Dimitri", "Akira", "Marius", "Isabella", "Pablo", "Sasha", "Hugo", "Manon", "Lia", "Th√©o"];
    const surnames = ["Moretti", "Vance", "Rossi", "Muller", "Tanaka", "Gomez", "Dupont", "Smith", "Fisher", "Ivanov", "Zhang"];
    let rooms = {};
    let vips = [];

    const mailData = [
        {
            id: 1,
            sender: "Agatha Baker",
            subject: "Audit de s√©curit√© et protocoles des suites",
            date: "14:22",
            body: "Cher Administrateur,\n\nSuite aux r√©cents incidents dans l'aile sud, la direction demande un audit complet des acc√®s au 5√®me √©tage. Nous avons remarqu√© que certains membres du personnel partagent encore le code du terminal par messagerie non s√©curis√©e. \n\nPour rappel, le code de session actuel est DIAMOND2024. Il doit √™tre m√©moris√© et tout document physique le contenant doit √™tre d√©truit imm√©diatement.\n\nCordialement,\nAgatha Baker\nDirectrice de Gestion, Diamond Casino & Resort."
        },
        {
            id: 2,
            sender: "Conciergerie VIP",
            subject: "Demande sp√©ciale : Suite de " + names[0],
            date: "11:05",
            body: "Le client VIP occupant la suite du 5√®me √©tage a demand√© que le mini-bar soit enti√®rement rempli de Champagne Bl√¢neur et de caviar russe avant 18h.\n\nIl a √©galement mentionn√© que le Wi-Fi dans la suite pr√©sentait des latences inacceptables pour ses transactions boursi√®res. Veuillez v√©rifier le routeur de l'√©tage.\n\nLe code d'access du terminal est DIAMOND2024."
        },
        {
            id: 3,
            sender: "Service Maintenance",
            subject: "Ventilation de la salle des coffres",
            date: "08:15",
            body: "L'√©quipe de maintenance interviendra demain √† 04h00 pour le remplacement des filtres √† air du niveau B1.\n\nL'acc√®s sera restreint pendant 2 heures. Veuillez informer les gardes de la chambre forte qu'il n'est pas n√©cessaire de d√©clencher l'alarme silencieuse lors de l'ouverture des conduits secondaires.\n\nTechnicien #42."
        },
        {
            id: 4,
            sender: "Lester C.",
            subject: "Une petite faille...",
            date: "Hier",
            body: "Salut,\n\nJuste pour info, votre syst√®me de gestion des suites est une vraie passoire. Si j'√©tais vous, je ferais attention √† qui regarde l'historique du navigateur. Un gamin de 12 ans pourrait trouver vos codes secrets en deux clics.\n\nAmusez-vous bien avec vos millionnaires.\n\n- L"
        },
        {
            id: 5,
            sender: "D√©partement Juridique",
            subject: "Incident √† la table de Blackjack VIP",
            date: "Hier",
            body: "Nous avons re√ßu une mise en demeure suite √† l'expulsion de force d'un client hier soir. \n\nVeuillez extraire les enregistrements des cam√©ras 12 et 14 et les envoyer √† mon bureau. Assurez-vous que le nom du client n'apparaisse pas dans le registre public avant que nous ayons r√©gl√© l'affaire √† l'amiable."
        }
    ];

    function init() {
        for(let f=1; f<=5; f++){
            for(let r=0; r<=20; r++){
                let id = f*100+r;
                let isOcc = Math.random() > 0.3;
                rooms[id] = { name: isOcc ? names[Math.floor(Math.random()*names.length)] + " " + surnames[Math.floor(Math.random()*surnames.length)] : "LIBRE" };
                if(f === 5 && isOcc && vips.length < 5) vips.push({name: rooms[id].name, room: id});
            }
        }
        const vList = document.getElementById('vip-list');
        vips.forEach(v => vList.innerHTML += `<li>üëë ${v.name} (#${v.room})</li>`);

        const side = document.getElementById('mail-sidebar');
        mailData.forEach(m => {
            side.innerHTML += `
                <div class="mail-item" id="mail-${m.id}" onclick="readMail(${m.id})">
                    <span class="mail-date">${m.date}</span>
                    <div class="mail-sender">${m.sender}</div>
                    <div class="mail-subject">${m.subject}</div>
                </div>`;
        });

        const hist = document.getElementById('browser-content');
        for(let i=0; i<30; i++) hist.innerHTML += `<div style="padding:8px; border-bottom:1px solid #222; color:#777; font-size:12px;">üîç eyefind.info/search?q=${['vault+security','diamond+resort+codes','bawsaq+tips'][Math.floor(Math.random()*3)]}</div>`;
    }

    function readMail(id) {
        document.querySelectorAll('.mail-item').forEach(i => i.classList.remove('active'));
        document.getElementById('mail-'+id).classList.add('active');
        const mail = mailData.find(m => m.id === id);
        const view = document.getElementById('mail-view');
        view.innerHTML = `
            <div class="mail-full-header">
                <div class="mail-full-subject">${mail.subject}</div>
                <div class="mail-full-info">De : <b>${mail.sender}</b> | Re√ßu le : ${mail.date}</div>
            </div>
            <div class="mail-full-body">${mail.body}</div>
        `;
    }

    function openApp(id) {
        const w = document.getElementById(id); w.style.display = 'flex'; w.style.zIndex = Math.floor(Date.now()/1000);
        if(id === 'win-terminal') document.getElementById('term-input').focus();
        if(id === 'win-registry') renderF(1);
    }

    function closeApp(id) { document.getElementById(id).style.display = 'none'; }

    function handleLogin(e) {
        if(e.key === 'Enter') {
            if(document.getElementById('term-input').value.toUpperCase() === "DIAMOND2024") { closeApp('win-terminal'); openApp('win-registry'); }
            else { denied('Terminal'); document.getElementById('term-input').value = ""; }
        }
    }

    function renderF(f) {
        const tabs = document.getElementById('tab-list'); tabs.innerHTML = '';
        for(let i=1; i<=5; i++) tabs.innerHTML += `<button class="floor-btn ${i===f?'active':''}" onclick="renderF(${i})" style="background:#111; border:1px solid var(--gold); color:var(--gold); padding:8px; margin-right:5px; cursor:pointer;">ETAGE ${i}</button>`;
        const grid = document.getElementById('room-grid'); grid.innerHTML = '';
        for(let r=0; r<=20; r++){
            let id = f*100+r;
            grid.innerHTML += `<div class="room ${rooms[id].name==='LIBRE'?'free':'occupied'}" onclick="denied('Lecture Seule')"><b>#${id}</b><br>${rooms[id].name}</div>`;
        }
    }

    function denied(app) {
        const n = document.createElement('div'); n.className = 'notif';
        n.innerHTML = `<b style="color:var(--gold)">SYST√àME</b><br>Acc√®s √† <b>${app}</b> restreint.`;
        document.getElementById('notif-box').appendChild(n);
        setTimeout(() => n.remove(), 3000);
    }

    document.querySelectorAll('.win-header').forEach(h => {
        h.onmousedown = (e) => {
            let w = h.parentElement; w.style.transform = "none"; w.style.zIndex = 9000;
            let sx = e.clientX - w.offsetLeft; let sy = e.clientY - w.offsetTop;
            document.onmousemove = (m) => { w.style.left = (m.clientX - sx) + 'px'; w.style.top = (m.clientY - sy) + 'px'; };
            document.onmouseup = () => { document.onmousemove = null; };
        };
    });

    init();
    setInterval(() => { let d = new Date(); document.getElementById('clock').innerText = d.getHours() + ":" + String(d.getMinutes()).padStart(2, '0'); }, 1000);
</script>
</body>
</html>